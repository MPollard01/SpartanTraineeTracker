@model TrainerHomeVM

@{
    ViewData["Title"] = "Dashboard";
}

<section class="container mt-4">
    <div class="row gap-3">
        <div class="col-6">
            <div class="row h-100 gap-3">
                <div class="col-5 p-0">
                    <div class="rounded shadow">
                        <div class="d-flex justify-content-between p-3">
                            <div>
                                <h5 class="text-secondary text-opacity-75 mt-2">Trainees</h5>
                                <h2 class="text-secondary">@Model.TraineeCount</h2>
                            </div>
                            <div class="bg-primary px-2 py-1 rounded opacity-75 h-50">
                                <span><i class="bi bi-people-fill text-info" style="font-size: 1.5em"></i></span>
                            </div>
                        </div>
                        <div class="p-2 px-3">
                            <a asp-controller="Trainee" asp-action="Index" class="text-secondary nav-link">More Info <i class="bi bi-arrow-right-circle-fill"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-5 p-0 ms-auto">
                    <div class="rounded shadow">
                        <div class="d-flex justify-content-between p-3">
                            <div>
                                <h5 class="text-secondary text-opacity-75 mt-2">Trackers</h5>
                                <h2 class="text-secondary">@Model.TrackerCount</h2>
                            </div>
                            <div class="bg-success px-2 py-1 rounded opacity-75 h-50">
                                <span><i class="bi bi-file-text-fill text-green" style="font-size: 1.5em"></i></span>
                            </div>
                        </div>
                        <div class="p-2 px-3">
                            <a asp-controller="Tracker" asp-action="Trainer" class="text-secondary nav-link">More Info <i class="bi bi-arrow-right-circle-fill"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-12 rounded p-3 shadow">
                    <div id="chart3"></div>
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="row gap-3">
                <div class="col-12 rounded p-3 shadow">
                    <div id="chart2"></div>
                </div>
                <div class="col-12 rounded p-3 shadow">
                    <div id="chart1"></div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        var options1 = {
            chart: {
                type: 'pie'
            },
            title: {
                text: 'Consultant Skill Level'
            },
            series: [@Model.ConsultantSkillCount[0],
        @Model.ConsultantSkillCount[1],
        @Model.ConsultantSkillCount[2],
        @Model.ConsultantSkillCount[3]],
            labels: ['Skilled', 'Partially Skilled', 'Low Skilled', 'Unskilled']
        }

        var chart1 = new ApexCharts(document.querySelector("#chart1"), options1);

        chart1.render();

        var options2 = {
            chart: {
                type: 'pie'
            },
            title: {
                text: 'Technical Skill Level'
            },
            series: [@Model.TechnicalSkillCount[0],
        @Model.TechnicalSkillCount[1],
        @Model.TechnicalSkillCount[2],
        @Model.TechnicalSkillCount[3]],
            labels: ['Skilled', 'Partially Skilled', 'Low Skilled', 'Unskilled']
        }

        var chart2 = new ApexCharts(document.querySelector("#chart2"), options2);

        chart2.render();

        var options3 = {
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Number of Trackers Per Month'
            },
            series: [{
                data: [
        @Model.TrackersPerMonth[0],
        @Model.TrackersPerMonth[1],
        @Model.TrackersPerMonth[2],
        @Model.TrackersPerMonth[3],
        @Model.TrackersPerMonth[4],
        @Model.TrackersPerMonth[5],
        @Model.TrackersPerMonth[6],
        @Model.TrackersPerMonth[7],
        @Model.TrackersPerMonth[8],
        @Model.TrackersPerMonth[9],
        @Model.TrackersPerMonth[10],
        @Model.TrackersPerMonth[11],
                ]
            }],
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        }

        var chart3 = new ApexCharts(document.querySelector("#chart3"), options3);

        chart3.render();
    </script>
}
